for(C of(a=[],X=c.getContext`2d`,y=x=0,O.value))C<" "?(y++,x=0):(C>" "&&a.push({x,y,w:"#"==C,a:0,b:0}),x++);setInterval((()=>{for(p of a)for(q of(p.D=9*p.w,a))g=Math.hypot(p.x-q.x,p.y-q.y)/2,p.D+=g<1&&--g*g;for(p of a)for(q of(p.d=1,p.c=0,a))g=Math.hypot(e=p.x-q.x,f=p.y-q.y)/2,g<1&&(g=(4*g-4)/p.D,p.d+=(f*(z=3-p.D-q.D)+p.b-q.b)*g*2,p.c+=(e*z+p.a-q.a)*g*2);for(p of(c.width^=0,a))X.fillRect(3*p.x,5*p.y,8,9),p.w||(p.y+=p.b+=p.d/25,p.x+=p.a+=p.c/15)}),9)