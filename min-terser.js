for(C of(a=[],X=c.getContext`2d`,y=x=0,O.value))"\n"==C?(y++,x=0):(" "!=C&&a.push({x:x,y:y,p:"#"!=C,a:0,b:0,c:0,d:0,D:0}),x++);M=(p,o)=>{for(q of a)g=Math.min(0,Math.hypot(e=p.x-q.x,f=p.y-q.y)/2-1),o?p.D+=g*g:(p.d+=(f*(3-p.D-q.D)*3+4*(p.b-q.b))*g/p.D,p.c+=(e*(3-p.D-q.D)*3+4*(p.a-q.a))*g/p.D)},setInterval(o=>{for(p of(c.width^=0,X.globalAlpha=.5,a))p.D=p.p?0:9,p.p&&(p.y+=p.b+=p.d/25,p.x+=p.a+=p.c/15,M(p,p.d=1),M(p,p.c=0)),X.fillRect(3*p.x,5*p.y,8,9)},16)
