for(C of(a=[],X=c.getContext`2d`,y=x=0,O.value))C<" "?(y++,x=0):(C>" "&&a.push({x:x,y:y,p:"#"!=C,a:0,b:0,c:0,d:0,D:9}),x++);M=(p,o)=>{for(q of a)g=Math.min(0,Math.hypot(e=p.x-q.x,f=p.y-q.y)/2-1),o?(p.d+=(f*(3-p.D-q.D)*3+4*(p.b-q.b))*g/p.D,p.c+=(e*(3-p.D-q.D)*3+4*(p.a-q.a))*g/p.D):p.D+=g*g},setInterval(o=>{for(p of(c.width^=0,X.globalAlpha=.5,a))p.p&&(p.y+=p.b+=p.d/25,p.x+=p.a+=p.c/15,M(p,p.D=p.c=0),M(p,p.d=1)),X.fillRect(3*p.x,5*p.y,8,9)},16)
