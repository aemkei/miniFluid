for(C of(X=c.getContext`2d`,x=y=a=[],O.value))C<" "?(y++,x=0):(C>" "&&a.push({x,y,C,w:"#"==C,a:0,b:0}),x++);M=o=>{for(p of a)for(q of(p.d=.1,p.c=0,o||(p.D=9*p.w),a))!((g=Math.hypot(e=p.x-q.x,f=p.y-q.y)/2-1)<0)||(o?(g=g/p.D/2,p.d+=(f*(z=3-p.D-q.D)+p.b-q.b)*g,p.c+=(e*z+p.a-q.a)*g):p.D+=g*g)},setInterval(o=>{for(p of(M(c.width^=M()),a))X.fillText(p.C,3*p.x,5*p.y),p.w||(p.y+=p.b+=p.d/2,p.x+=p.a+=p.c)},9)
